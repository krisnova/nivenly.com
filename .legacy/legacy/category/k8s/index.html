<!DOCTYPE html>
<html lang="en-US">
<head>
<script async defer src="https://buttons.github.io/buttons.js"></script>

<script>window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return t;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));</script>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://www.nivenly.com/xmlrpc.php">
<title>K8s</title>
<link rel='dns-prefetch' href='../../../nivenly.com/index.html' />
<link rel='dns-prefetch' href='https://fonts.googleapis.com/' />
<link rel='dns-prefetch' href='https://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title=" &raquo; Feed" href="../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title=" &raquo; Comments Feed" href="../../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title=" &raquo; K8s Category Feed" href="feed/index.html" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.nivenly.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.8.11"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b!==c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='contact-form-7-css'  href='../../wp-content/plugins/contact-form-7/includes/css/styles.css@ver=4.8.css' type='text/css' media='all' />
<link rel='stylesheet' id='icomoon-css'  href='../../wp-content/plugins/kiwi-social-share/assets/vendors/icomoon/style.css@ver=2.0.4.css' type='text/css' media='all' />
<link rel='stylesheet' id='counter-style-css'  href='../../wp-content/plugins/page-visit-counter/public/css/counter-style.css@ver=4.8.11.css' type='text/css' media='all' />
<link rel='stylesheet' id='dashicons-css'  href='../../wp-includes/css/dashicons.min.css@ver=4.8.11.css' type='text/css' media='all' />
<link rel='stylesheet' id='post-views-counter-frontend-css'  href='../../wp-content/plugins/post-views-counter/css/frontend.css@ver=1.2.7.css' type='text/css' media='all' />
<link rel='stylesheet' id='micky-defaultbasic-css'  href='../../wp-content/themes/micky/style.css@ver=1.css' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-css'  href='../../wp-content/themes/micky/assets/css/bootstrap.min.css@ver=1.css' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='../../wp-content/themes/micky/assets/css/font-awesome.css@ver=1.css' type='text/css' media='all' />
<link rel='stylesheet' id='line-icons-css'  href='../../wp-content/themes/micky/assets/css/simple-line-icons.css@ver=1.css' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-select-css'  href='../../wp-content/themes/micky/assets/css/bootstrape-select.css@ver=1.css' type='text/css' media='all' />
<link rel='stylesheet' id='animation-css'  href='../../wp-content/themes/micky/assets/css/animation.css@ver=1.css' type='text/css' media='all' />
<link rel='stylesheet' id='micky-style-css'  href='../../wp-content/themes/micky/assets/css/custom-style.css@ver=1.css' type='text/css' media='all' />
<link rel='stylesheet' id='micky-responsive-css'  href='../../wp-content/themes/micky/assets/css/responsive.css@ver=1.css' type='text/css' media='all' />
<style id='micky-responsive-inline-css' type='text/css'>

		.header_top_main .mk_top_navigations ul.menu li a {
			color: ;
		}
		.header_top_main .mk_top_navigations > ul > li.current_page_item > a {
			border-color: ;
		}
		.header_top_main .mk_top_navigations > ul > li > a:hover {
			border-color: ;
		}
</style>
<link rel='stylesheet' id='micky-googlefonts-css'  href='https://fonts.googleapis.com/css?family=Montserrat%3A100%2C200%2C300%2C400%2C500%2C600%2C700%2C800%2C900&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery.js@ver=1.12.4'></script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery-migrate.min.js@ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var pagevisit = {"ajaxurl":"https:\/\/www.nivenly.com\/wp-admin\/admin-ajax.php","pageurl":"https:\/\/www.nivenly.com\/category\/k8s"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/page-visit-counter/public/js/custom.js@ver=1.0.0'></script>
<link rel='https://api.w.org/' href='../../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php@rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.8.11" />
<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #ffffff; }
</style>
<style type="text/css" id="syntaxhighlighteranchor"></style>
<link rel="icon" href="../../wp-content/uploads/2016/11/cropped-imageedit_1_3569246463-32x32.png" sizes="32x32" />
<link rel="icon" href="../../wp-content/uploads/2016/11/cropped-imageedit_1_3569246463-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="../../wp-content/uploads/2016/11/cropped-imageedit_1_3569246463-180x180.png" />
<meta name="msapplication-TileImage" content="https://www.nivenly.com/wp-content/uploads/2016/11/cropped-imageedit_1_3569246463-270x270.png" />
</head>
<body class="archive category category-k8s category-3 custom-background hfeed">
<div class="main_wrapper_cover">
<header>
<div class="wrapper_main header_top_main">
   <div class="container">
    <div class="row">
     <div class="full_width header_navigation">
      <div class="col-sm-3">
	   <div class="mk_logo">
	   		<h1 class="site-title"><a href="../../../nivenly.com/index.html" rel="home"></a></h1>
	   </div>
	  </div>
      <div class="col-sm-9">   
       <!-- navbar toggle start -->
		  <div class="navbar-header pull-right">
			  <button type="button" class="navbar-toggle navbar_toogle" data-toggle="collapse" data-target="#myNavbar"> 
				<i class="fa fa-list-ul"></i> 
			  </button>
		  </div>
       <!-- navbar toggle end--> 
       <!-- navigation start -->
       <div class="mk_top_navigations">
	   <ul id="menu-header" class="menu"><li id="menu-item-169" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-169"><a href="../../../nivenly.com/index.html">Home</a></li>
<li id="menu-item-469" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-469"><a href="../go/index.html">Go</a></li>
<li id="menu-item-470" class="menu-item menu-item-type-taxonomy menu-item-object-category current-menu-item menu-item-470"><a href="index.html">Kubernetes</a></li>
<li id="menu-item-472" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-472"><a href="../unix/index.html">Unix</a></li>
<li id="menu-item-407" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-407"><a href="https://becomingkris.com">BecomingKris.com</a></li>
<li id="menu-item-595" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-595"><a href="http://cnibook.info">CNI Book</a></li>
</ul>		
        </div>
       <!-- navigation end --> 
      </div>
      <!-- header_navigation_cover --> 
     </div>
    </div>
   </div>
  </div>
  <!--  header navigation end --> 
</header><div class="wrapper_main breadcum_part">
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<div class="breadcum_inner main">
				<h3 class="">Archives</h3> 
				</div>
			</div>
		</div>
	</div>
</div>
<div class="wrapper_main Blog_details_section">
	<div class="container">
		<div class="row">
				<div class="col-lg-12 col-md-12 col-sm-12">
				<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">
						<div class="page-title">Category: K8s</div>			<div id="post-921" class="post-921 post type-post status-publish format-standard hentry category-c category-k8s category-unix tag-arch-linux tag-arm tag-armv7 tag-falco tag-kernel tag-kris-nova tag-kubernetes tag-linux tag-linux-kernel tag-novix tag-raspberry-pi tag-secure tag-security tag-syscall tag-sysdig">
<div class="blog_post_wrapper_main">
      <div class="blog_thumbnail"> 
	  	  </div>
</div>
<div class="blog_mk_title">
<h3><a href="../../index.html@p=921.html">Falco 0.22.1 and Kubernetes 1.18 on armv7 using NOVIX</a></h3>
</div>
<div class="blog_desc blog_details_desc mar_b_30">
	<div class="bottom">
	<span class="posted-on"> <a href="../../index.html@p=921.html" rel="bookmark"><time class="entry-date published" datetime="2020-04-30T22:26:55+00:00">April 30, 2020</time><time class="updated" datetime="2020-06-29T15:46:05+00:00">June 29, 2020</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="../../author/kris/index.html">Kris Nova</a></span></span>  
		<span class="link_icon">
		<a href="../../index.html@p=921.html"><i class="fa fa-chevron-right"></i></a>
		</span>
	</div>
	<div class="blog_content">
		<p><p>Sup nerds.</p>
<hr />
<p>So if you want to see me live demo this check out my live stream at 11am Pacific at <a href="https://twitch.tv/setns">twitch.tv/setns</a> on Friday. I will post the recording here after it&#8217;s done.</p>
<hr />
<p><img class="alignright wp-image-935 size-full" src="http://www.nivenly.com/wp-content/uploads/2020/04/Screenshot-from-2020-04-28-21-57-25.png" alt="" width="577" height="351" srcset="../../wp-content/uploads/2020/04/Screenshot-from-2020-04-28-21-57-25.png 577w, ../../wp-content/uploads/2020/04/Screenshot-from-2020-04-28-21-57-25-300x182.png 300w, ../../wp-content/uploads/2020/04/Screenshot-from-2020-04-28-21-57-25-575x350.png 575w" sizes="(max-width: 577px) 100vw, 577px" />So if you have been following along on <a href="https://twitter.com/krisnova">Twitter</a> you have probably seen my talking about my new server cabinet I have been working on, as well as a few tweets about running Falco on ARM.</p>
<p>So recently I joined <a href="https://sysdig.com">Sysdig, Inc</a> as chief OSS and I have been hacking on the kernel and our open source security tools for the past few months.</p>
<p>If you have ever used <code>wireshark</code> or <code>sysdig</code> or <code>falco</code> then yeah &#8211; we are THOSE folks. <a href="http://github.com/falcosecurity/falco">Falco</a> is written in C++ and uses either a kernel module or a BPF probe to trace system call events in the Linux kernel. It&#8217;s fairly complicated to get all the pieces installed and working well on a Linux system, let alone a Kubernetes system.</p>
<p>So I figured everyone could use a fun project during the apocalypse including myself. So <strong>today I made a few branches of Linux, Falco, and Kubernetes and got everything dialed in nicely and compiling on ARMv7</strong></p>
<p>So if you are interested in Kubernetes and Linux security, if you enjoy free and open source software, and if you have a raspberry pi or another arm board laying around please follow along and try out my distro I slapped together today.</p>
<p>So let&#8217;s understand what we have going on here.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<hr />
<p>&nbsp;</p>
<h1>NOVIX</h1>
<p><a class="github-button" href="https://github.com/kris-nova/novix" data-icon="octicon-star" aria-label="Star kris-nova/novix on GitHub">Star</a></p>
<p><a href="https://github.com/kris-nova/novix">github.com/kris-nova/novix</a></p>
<p>So I put together an image that should make this is easy as pi (pun intended) to set up. It&#8217;s my operating system so if you don&#8217;t like I don&#8217;t care. Get off my lawn.</p>
<h3>What is inside NOVIX?</h3>
<table class="tg">
<tbody>
<tr>
<th class="tg-0lax">Component</th>
<th class="tg-0lax">Version</th>
</tr>
<tr>
<td class="tg-0lax">Architecture</td>
<td class="tg-0lax">armv7</td>
</tr>
<tr>
<td class="tg-0lax">Kernel</td>
<td class="tg-0lax">Linux novix 4.19.118-1-ARCH armv7l GNU/Linux</td>
</tr>
<tr>
<td class="tg-0lax">Operating System Base</td>
<td class="tg-0lax">Arch Linux</td>
</tr>
<tr>
<td class="tg-0lax">Operating System</td>
<td class="tg-0lax">Novix</td>
</tr>
<tr>
<td class="tg-0lax">Falco</td>
<td class="tg-0lax">0.22.0</td>
</tr>
<tr>
<td class="tg-0lax">Kubernetes</td>
<td class="tg-0lax">1.18</td>
</tr>
<tr>
<td class="tg-0lax">Kubeadm</td>
<td class="tg-0lax">1.18</td>
</tr>
<tr>
<td class="tg-0lax">Tested on Chips</td>
<td class="tg-0lax">RaspberryPi 3/4 (armv7) Raspberry Pi 1 B (armv6)</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>Where do I get NOVIX?</h3>
<p>See the<a href="https://github.com/kris-nova/novix/releases/latest"> latest RELEASE</a> on GitHub</p>
<table class="tg">
<tbody>
<tr>
<th class="tg-0lax">Image</th>
<th class="tg-0lax">Download</th>
<th class="tg-0lax">Arch</th>
<th class="tg-0lax">Size</th>
</tr>
<tr>
<td class="tg-0lax">Novix 1.0.1</td>
<td class="tg-0lax"><a href="https://nivenly.com/novix/novix-1.0.1-armv7.img.gz">novix-1.0.1-armv7.img.gz</a></td>
<td class="tg-0lax">armv7</td>
<td class="tg-0lax">4.3gb</td>
</tr>
<tr>
<td class="tg-0lax">Novix 1.0.0</td>
<td class="tg-0lax"><a href="https://nivenly.com/novix/novix-1.0.0-armv7.img.gz">novix-1.0.0-armv7.img.gz</a></td>
<td class="tg-0lax">armv7</td>
<td class="tg-0lax">8.5gb</td>
</tr>
</tbody>
</table>
<p>Included in the image:</p>
<ul>
<li>Kernel headers</li>
<li>Falco objects</li>
<li>Kubernetes binaries</li>
<li>Docker</li>
<li>CRI</li>
<li>Emacs</li>
<li>grpc</li>
<li>jq</li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<hr />
<p>&nbsp;</p>
<h1>Setting up NOVIX on a Raspberry Pi 3/4</h1>
<p>I am assuming you are running Linux, if you aren&#8217;t you should probably start. Otherwise you can duck duck go how to do this on Windows or a Mac &#8211; I am sure there are a lot of resources out there.</p>
<h3>Download NOVIX and flash to your SD card</h3>
<pre class=" language-bash"><code class=" language-bash">mkdir ~/novix &amp;&amp; cd ~/novix
fdisk -l # Use this command to find your SD card (mine is usually /dev/sdc)
umount/dev/sdc*
fdisk /dev/sdc # (Use the device that matches your SD card from above)</code></pre>
<p><a href="https://archlinuxarm.org/platforms/armv6/raspberry-pi">Thanks Arch Linux Arm Community.</a></p>
<p>At the fdisk prompt, delete old partitions and create a new one:<br />
Type o. This will clear out any partitions on the drive.<br />
Type p to list partitions. There should be no partitions left.<br />
Type n, then p for primary, 1 for the first partition on the drive, press ENTER to accept the default first sector, then type +110M for the last sector.<br />
Type t, then c to set the first partition to type W95 FAT32 (LBA).<br />
Type n, then p for primary, 2 for the second partition on the drive, and then press ENTER twice to accept the default first and last sector.<br />
Write the partition table and exit by typing w.</p>
<p>Now format the boot partition</p>
<pre class=" language-bash"><code class=" language-bash">mkfs.vfat /dev/sdc1
</code></pre>
<p>And now the root partition</p>
<pre class=" language-bash"><code class=" language-bash">mkfs.ext4 /dev/sdc2
</code></pre>
<p>And now let&#8217;s set up our sd card</p>
<pre class=" language-bash"><code class=" language-bash">wget https://nivenly.com/novix/novix-1.0.1-armv7.img.gz
gunzip --stdout novix-1.0.1-armv7.img.gz | sudo dd bs=4M of=/dev/sdc
sync
</code></pre>
<p>If you get stuck check out the official <a href="https://www.raspberrypi.org/documentation/installation/installing-images/linux.md">installation guide</a> and just use my image instead of the one they suggest.</p>
<p>A better example can be found at the official arm for arch linux <a href="https://archlinuxarm.org/platforms/armv6/raspberry-pi">installation guide</a></p>
<p>Throw the SD card into the back of your raspberry pi, hook it up to your network, and give it some power. You should see a solid light and a blinky light on the card (not the network) indicating that your pi is online.</p>
<h3>SSH into your NOVIX instance</h3>
<p>Now we are assuming you have a lovely DHCP server online somewhere and your pi should now be on your network. Find it&#8217;s IP address by pulling client lists from your networking gear, arping, guessing, nmap, whatever. I just went into my unifi dashboard and there it was!</p>
<p>&nbsp;</p>
<p><img class="size-medium wp-image-950 aligncenter" src="../../wp-content/uploads/2020/04/Screenshot-from-2020-04-28-22-26-21.png" alt="" width="251" height="244" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<table class="tg">
<tbody>
<tr>
<th class="tg-0lax">Default NOVIX Username</th>
<th class="tg-0lax">Default NOVIX Password</th>
</tr>
<tr>
<td class="tg-0lax">novix</td>
<td class="tg-0lax">charlie</td>
</tr>
</tbody>
</table>
<pre class=" language-bash"><code class=" language-bash">ssh novix@10.0.0.36
cat README
</code></pre>
<p>Notice if you type <code>novix</code> and hit tab to complete there are a handful of handy commands.</p>
<hr />
<p>&nbsp;</p>
<h1>Running Falco</h1>
<p>Falco should come precompiled. The kernel module should be loaded and the daemon should already be running.</p>
<p><code class=" language-bash">novix.falco-logs</code></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<hr />
<p>&nbsp;</p>
<h1>Running Kubernetes</h1>
<p>Kubernetes 1.18 should also be baked into the image and all dependencies should already be installed and configured.</p>
<h3>The Kubernetes Master</h3>
<p>Start by setting up a master. Pick a hostname you want to use for your master (NOTE: you should also probably put this in <code>/etc/hosts</code> on all the machines in your cluster)</p>
<p>In this example we will use <code>novix-master</code> for our hostname. Set it using the following command</p>
<p><code class=" language-bash">novix.hostname novix-master</code></p>
<p>Now start your master server</p>
<p><code class=" language-bash">novix.k8s-master</code></p>
<p>You should see the output of <code>kubeadm</code> giving you a &#8220;join command&#8221; that should look something like</p>
<p><code class=" language-bash">kubeadm join 10.0.0.44:443 --token uvjdta.h41bhz0aw5scnvka \<br />
--discovery-token-ca-cert-hash sha256:0d0c32d30ab1dd2a5f3ca6f1d83b61aba9204bf6f8aa8f76e6c50ee37becb6ba </code></p>
<p>Note the following:</p>
<table class="tg">
<tbody>
<tr>
<th class="tg-0lax">Key</th>
<th class="tg-0lax">Value</th>
</tr>
<tr>
<td class="tg-0lax">Server</td>
<td class="tg-0lax"><code class=" language-bash">10.0.0.43</code></td>
</tr>
<tr>
<td class="tg-0lax">Token</td>
<td class="tg-0lax"> <code class=" language-bash">uvjdta.h41bhz0aw5scnvka</code></td>
</tr>
<tr>
<td class="tg-0lax">Hash</td>
<td class="tg-0lax"> <code class=" language-bash">sha256:0d0c32d30ab1dd2a5f3ca6f1d83b61aba9204bf6f8aa8f76e6c50ee37becb6ba</code></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>Now install Calico CNI on your cluster.</p>
<div id="tabs-pod-install" class="ui-tabs ui-corner-all ui-widget ui-widget-content">
<div id="tabs-pod-install-0" class="ui-tabs-panel ui-corner-bottom ui-widget-content" role="tabpanel" aria-labelledby="ui-id-1" aria-hidden="false">
<div class="highlight">
<pre><code class="language-shell" data-lang="shell">kubectl apply -f https://docs.projectcalico.org/v3.11/manifests/calico.yaml
</code></pre>
</div>
</div>
</div>
<h3>The Kubernetes Node(s)</h3>
<p>Set up a new novix machine as one of your nodes. Set a new hostname.</p>
<p><code class=" language-bash">novix.hostname novix-001</code></p>
<p>Now either run the pasted <code>kubeadm join</code> command above, or you can try</p>
<p><code class=" language-bash">novix.k8s-join 10.0.0.43 uvjdta.h41bhz0aw5scnvka sha256:0d0c32d30ab1dd2a5f3ca6f1d83b61aba9204bf6f8aa8f76e6c50ee37becb6ba</code></p>
<p>As long as everything can route you should now have a working kubernetes cluster with Falco.</p>
<p>&nbsp;</p>
<hr />
<p>&nbsp;</p>
<p><a href="https://twitter.com/r3dcrosse/status/1256126565068361729?s=20"><img class="aligncenter wp-image-970 size-full" src="http://www.nivenly.com/wp-content/uploads/2020/04/Screenshot-from-2020-05-01-00-42-40.png" alt="" width="600" height="270" srcset="../../wp-content/uploads/2020/04/Screenshot-from-2020-05-01-00-42-40.png 600w, ../../wp-content/uploads/2020/04/Screenshot-from-2020-05-01-00-42-40-300x135.png 300w" sizes="(max-width: 600px) 100vw, 600px" /></a></p>
<p>&nbsp;</p>
				</p>
	</div>
</div>
</div><!-- #post-## --><div id="post-870" class="post-870 post type-post status-publish format-standard hentry category-k8s tag-call-for-papers tag-cfp tag-kris tag-kris-nova tag-kubecon tag-kubernetes tag-nova tag-presentation tag-talk tag-tech-talk tag-tips tag-tricks">
<div class="blog_post_wrapper_main">
      <div class="blog_thumbnail"> 
	  	  </div>
</div>
<div class="blog_mk_title">
<h3><a href="../../index.html@p=870.html">Crafting an outstanding technical talk</a></h3>
</div>
<div class="blog_desc blog_details_desc mar_b_30">
	<div class="bottom">
	<span class="posted-on"> <a href="../../index.html@p=870.html" rel="bookmark"><time class="entry-date published" datetime="2020-01-28T15:27:59+00:00">January 28, 2020</time><time class="updated" datetime="2020-01-29T02:20:01+00:00">January 29, 2020</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="../../author/kris/index.html">Kris Nova</a></span></span>  
		<span class="link_icon">
		<a href="../../index.html@p=870.html"><i class="fa fa-chevron-right"></i></a>
		</span>
	</div>
	<div class="blog_content">
		<p><p>One of the questions I am asked most in my field is what are the secrets to getting talks accepted at technical events.</p>
<p>Since 2016 I have worked at Datapipe, Deis, Microsoft, Heptio, VMware and now Sysdig. I have spoken at events (like Kubecon) at every one of these jobs, and even when I was unemployed.</p>
<p>Below are the things I always focus on while writing a proposal. I hope these can help you with your own goals of writing outstanding conference proposals, and crafting the talk itself.</p>
<hr />
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1>Problems are good</h1>
<p><img class="alignright" src="https://www.ciakgeneration.it/wp-content/uploads/2019/03/Il-tema-di-Jurassic-Park-rallentato-770x416.jpg" alt="Image result for jurassic park" width="493" height="257" />Seriously, the majority of your effort in writing a proposal should be focusing on something bad.</p>
<p>I know it sounds counter-intuitive but stop for a moment and think about things that are entertaining and exciting for you. Movies, Television, Books, Stories&#8230; Everything you probably love tells a story and has a well-defined enemy. Without the presence of an enemy, the heroism simply cannot exist.</p>
<p>Think of your favorite movie, mine happens to be Jurassic Park. There is a fundamental problem that the story focuses on which is <strong>humans have no business creating fucking dinosaurs. </strong>Also, sub-plot if you do decide to create dinosaurs, you better at least run their cages on Linux.</p>
<p>The worse the problem happens to be, the more exciting solving the problem is to the audience.</p>
<hr />
<p>Here are things I am always on the lookout for in my technical career.</p>
<ul>
<li>Moments when I am frustrated or passionate about something (this is a sign there is a very nasty enemy lurking nearby)</li>
<li>Moments when I say things like &#8220;It&#8217;s not that simple&#8221; or &#8220;It doesn&#8217;t work like that&#8221; or &#8220;I wish it was that easy&#8221; (again, something bad is just around the corner)</li>
<li>Moments, when I start asking myself, is something is worth it (this implies that there would be a lot of work, to solve a problem)</li>
</ul>
<p>These types of moments are invaluable and where every single talk idea of mine comes from. In fact, if you study theater, or writing you learn very quickly the importance of antagonism. Furthermore, you learn about anti-hero and martyrs, etc. Even if you look at the horror genre, it&#8217;s an entire category that celebrates the evil a story can contain.</p>
<h3 style="text-align: center;"><strong>People love drama.</strong></h3>
<p>Check out my clusterfuck talk I did at FOSDEM last year. It highlights a problem well.</p>
<p>&nbsp;</p>
<hr />
<p style="text-align: center;">The clusterfuck hidden in the Kubernetes code base &#8211; Kris Nóva &#8211; FOSDEM 2019</p>
<p style="text-align: center;"><iframe src="https://mirrors.dotsrc.org/fosdem/2019/UD2.120/kubernetesclusterfuck.mp4" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>
<hr />
<p>&nbsp;</p>
<p>So let&#8217;s start by coming up with a fictional talk, that presents a problem.</p>
<p style="text-align: center;">&#8220;<b>Designing a remote cloud data cen</b><strong>ter with 99.999% uptime</strong>&#8220;</p>
<p>We know we have to have a data center to host data, and we know we won&#8217;t have access to it. This is a pretty good start as we know that we have a problem that must be solved. How do we manage and design this data center?</p>
<p>&nbsp;</p>
<hr />
<h1></h1>
<h1>Constraints are better</h1>
<p>&nbsp;</p>
<p>Okay, so now that you learned the importance of having a problem, and are giving the negativity the attention it deserves we can start to look at interesting twists in our story.</p>
<p>By adding constraints or limitations you can create an even more exciting environment.</p>
<p>Let&#8217;s look at a movie called &#8220;<strong>Deadly snakes</strong>&#8220;. So there is at least a clear problem here which is that snakes can fucking kill you and that is terrifying. But we can do better, let&#8217;s add some constraints to our story.</p>
<p>&nbsp;</p>
<p style="text-align: center;">&#8220;<strong>Snakes on a plane</strong>&#8220;</p>
<p><a href="https://images2.minutemediacdn.com/image/upload/c_fill,g_auto,h_1248,w_2220/f_auto,q_auto,w_1100/v1555319514/shape/mentalfloss/snakeshed.jpg"><img class="aligncenter" src="https://images2.minutemediacdn.com/image/upload/c_fill,g_auto,h_1248,w_2220/f_auto,q_auto,w_1100/v1555319514/shape/mentalfloss/snakeshed.jpg" alt="Image result for snakes on a plane" width="449" height="252" /></a></p>
<p>&nbsp;</p>
<p>Now that sounds like a great story! Not only do we have a clear antagonist, but now we have a set of constraints that our hero has to abide by in order to defeat their foe. Which is, you can&#8217;t get off a plane while it&#8217;s flying over the ocean and now there is deadly snakes trying to kill you.</p>
<p>By creating an antagonist, and having a fascinating set of constraints we are starting to create a really powerful hero. But again &#8212; you have to have the danger and the constraints in order for the hero to be this triumphant.</p>
<p>So let&#8217;s look at tech again.</p>
<p>Remember our talk &#8220;<b>Designing</b><strong> a cloud data center with 99.999% uptime</strong>&#8220;. So this is good because we present our problem of having high uptime. This seems pretty cool, I might go check this talk out.</p>
<p>Now let&#8217;s add an outstanding constraint to our talk and see what happens.</p>
<p style="text-align: center;">&#8220;<b>Designing</b><strong> a remote cloud data center with 99.999% uptime&#8230; on Mars</strong>&#8220;</p>
<p>Holy shit this talk sounds amazing. We have a clear problem and a fascinating constraint. I would hands down cancel plans to go see this talk. Why are you doing this? Why on mars? How much does this cost? Do computers even work there? How will the hardware get there? How will you connect to it? Why the uptime? WHAT ARE YOU DOING?</p>
<p>&nbsp;</p>
<hr />
<p>&nbsp;</p>
<h1>New ideas are the best</h1>
<p>Okay so now you have a problem and a crazy constraint that makes what would otherwise be a fairly simple problem to solve exponentially more complex. Can we get any better from here?</p>
<p>Yes. These are the talks that go down in history, and you can write one (if you are lucky).</p>
<p>Every once in awhile (maybe once in a lifetime) you might hit what I call &#8220;The Trifecta&#8221;. Which is a magical moment when 3 very rare things all happen at the same time.</p>
<ol>
<li>You have a really nasty problem</li>
<li>You have a really interesting constraint</li>
<li>You happen to either invent or use technology that isn&#8217;t mainstream yet or has never been done</li>
</ol>
<p>This is like the indie band that makes it big &#8211; but for tech.</p>
<p>How do you know if you have found the next exciting piece of tech for your problem? This question is hard to answer, and I usually ask the following questions to gauge if I am on to something.</p>
<ul>
<li>Is it easy to use?
<ul>
<li>If the answer is <strong>no</strong>, you are on the right track</li>
</ul>
</li>
<li>Can I google it?
<ul>
<li>If the answer is <strong>no</strong>, you are on the right track</li>
</ul>
</li>
<li>Does it solve my problem, and does it adhere to my constraint?
<ul>
<li>If the answer is <strong>yes</strong>, you are on the right track</li>
</ul>
</li>
<li>Do I wish the CFP I am writing was already on YouTube so I didn&#8217;t have to do this?
<ul>
<li>If the answer is <strong>yes</strong>, you are on the right track (<em>and you probably aren&#8217;t the only one thinking this</em>)</li>
</ul>
</li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>While a talk like &#8220;<strong>Running a remote cloud data center on Mars&#8221; </strong>would be outstanding it could still be better. What if in order to build our data center we had to do something never before done before? This could change the entire tone of the talk.</p>
<p style="text-align: center;">&#8220;<strong>The first martian. Designing a robot to build a remote data center on Mars</strong>&#8220;.</p>
<p>Now that is an outstanding talk.</p>
<p>Not only do we have a clear problem, a fascinating constraint, but we solved the problem in a way that has never been done before. We built a fucking robot that will build our data center for us so we don&#8217;t have to.</p>
<p><strong>If</strong> you are lucky, you might be in this type of situation in your lifetime. These are the types of talks that make history, and you can find them in your everyday life if you look hard enough.</p>
<p>&nbsp;</p>
<hr />
<h1>The CFP</h1>
<p>&nbsp;</p>
<p>There are 3 things I always focus on when writing a CFP</p>
<hr />
<ol>
<li>The Title (problems, constraints, innovation)</li>
<li>The Pitch (How do you explain the problem, the constraints, and your innovation in less than 10 seconds)</li>
<li>The Lesson (You should always explain what the audience will learn, or elude to something they might enjoy)</li>
</ol>
<hr />
<p>For the title, I always have a bad guy. I always have a problem. I always have an enemy.</p>
<p>For the pitch, it is quick and easy to understand. You have 3 sentences (max) to hook someone. Make it juicy. People love drama.</p>
<p>For the lesson, I try to create wonder and empathy. Which movie would I rather watch?</p>
<ul>
<li>College students go on a road trip and are murdered by a hitchhiker</li>
<li>3 students on spring break go on the road trip that will change their lives forever when they pick up an innocent-looking hitchhiker</li>
</ul>
<p>&nbsp;</p>
<p>I try to give folks a reason to find out more. How does the story end? What happens next?</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<hr />
<h1 style="text-align: center;">Bottom Line</h1>
<hr />
<p style="text-align: center;">Unfortunately, nobody wants to see a talk called &#8220;<code>$project</code> is really great&#8221;.</p>
<p style="text-align: center;">However, everyone wants to see a talk called &#8220;<code>$project</code> solves this really crazy terrible annoying fucking problem in a way nobody else has ever done before&#8221;.</p>
<p style="text-align: center;">Find a problem, and study it. Obsess over it. Cherish it.</p>
<p style="text-align: center;">You will get your talk accepted every time.</p>
<p style="text-align: center;">If you don&#8217;t have a problem, you can&#8217;t resolve anything. Which means you don&#8217;t have a story, which means you don&#8217;t have a talk.</p>
<hr />
<p style="text-align: center;"><strong>NEVER submit a talk to &#8220;get on stage&#8221; or &#8220;raise awareness&#8221; or sell anything.</strong></p>
<p style="text-align: center;"><strong>Submit a talk because you were lucky enough to discover a problem, then you solved it, and it was a pain in the ass.</strong></p>
<p style="text-align: center;"><strong>Now you want to share your journey with others. </strong></p>
<hr />
<p style="text-align: center;">Extra credit if the problem you are solving exists for a large group of people &#8211; solving it is an opportunity to create a hero and create empathy for others.</p>
<hr />
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
				</p>
	</div>
</div>
</div><!-- #post-## --><div id="post-741" class="post-741 post type-post status-publish format-standard hentry category-c category-go category-k8s category-uncategorized category-unix">
<div class="blog_post_wrapper_main">
      <div class="blog_thumbnail"> 
	  	  </div>
</div>
<div class="blog_mk_title">
<h3><a href="../../index.html@p=741.html">Open Source at Sysdig</a></h3>
</div>
<div class="blog_desc blog_details_desc mar_b_30">
	<div class="bottom">
	<span class="posted-on"> <a href="../../index.html@p=741.html" rel="bookmark"><time class="entry-date published" datetime="2019-08-21T06:00:25+00:00">August 21, 2019</time><time class="updated" datetime="2019-09-04T23:37:41+00:00">September 4, 2019</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="../../author/kris/index.html">Kris Nova</a></span></span>  
		<span class="link_icon">
		<a href="../../index.html@p=741.html"><i class="fa fa-chevron-right"></i></a>
		</span>
	</div>
	<div class="blog_content">
		<p><h3 style="text-align: center;">Earlier this year I found myself taking a much needed break from employment.</h3>
<h1></h1>
<p><img class=" wp-image-817 alignright" style="border: 2px solid black;" src="http://www.nivenly.com/wp-content/uploads/2019/07/B55A3382-ACB6-452E-8D48-F63242AA9767-1-200x300.jpg" alt="" width="438" height="657" srcset="../../wp-content/uploads/2019/07/B55A3382-ACB6-452E-8D48-F63242AA9767-1-200x300.jpg 200w, ../../wp-content/uploads/2019/07/B55A3382-ACB6-452E-8D48-F63242AA9767-1-768x1152.jpg 768w, ../../wp-content/uploads/2019/07/B55A3382-ACB6-452E-8D48-F63242AA9767-1-683x1024.jpg 683w, ../../wp-content/uploads/2019/07/B55A3382-ACB6-452E-8D48-F63242AA9767-1-383x575.jpg 383w, ../../wp-content/uploads/2019/07/B55A3382-ACB6-452E-8D48-F63242AA9767-1-233x350.jpg 233w" sizes="(max-width: 438px) 100vw, 438px" />I began taking a meticulous approach at looking for a new gig. I was astonished and overwhelmed at the interest I had from amazing organizations in the Cloud Native ecosystem. I met with large tech companies, startups, and entrepreneurs yet to start their journey. I noticed everyone was very excited about Kubernetes. Every meeting shared the common theme. It seemed like the entire industry was obsessed with solving their unique problems with our new distributed kernel: Kubernetes.</p>
<p>&nbsp;</p>
<blockquote><p>There was only one problem:  <strong>Kubernetes is effectively &#8220;complete&#8221;</strong></p></blockquote>
<p>&nbsp;</p>
<p style="text-align: left;">Don&#8217;t get me wrong, there is still a lot of work to do and Kubernetes will always have room for improvement.</p>
<p style="text-align: left;">My point here is that the core functionality of Kubernetes has not only been completed, but iterated on several times over. The scope of the project is relatively finite, and we have reached a point of maturity where we have functional components to satisfy this scope. The API is several versions deep, and the goal of the project was to provide a platform for the ecosystem to build on. We have achieved that. With that being said, taking another &#8220;Kubernetes Centric&#8221; role didn&#8217;t seem very attractive to me. I love Kubernetes and have been working with the core upstream community for a long time, but I think it&#8217;s time to pivot slightly.</p>
<p>&nbsp;</p>
<h3 style="text-align: center;">I am an innovator.</h3>
<p style="text-align: center;">One could argue the majority of innovation <strong>within</strong> Kubernetes has long since been crafted, whereas innovation <strong>with</strong> Kubernetes is just beginning.</p>
<p>&nbsp;</p>
<h3 style="text-align: center;">Regardless, I am convinced Kubernetes is here to stay.</h3>
<p><img class=" wp-image-677 alignleft" src="http://www.nivenly.com/wp-content/uploads/2018/03/k8s-300x300.png" alt="" width="167" height="167" srcset="../../wp-content/uploads/2018/03/k8s-300x300.png 300w, https://www.nivenly.com/wp-content/uploads/2018/03/k8s-150x150.png 150w, ../../wp-content/uploads/2018/03/k8s-350x350.png 350w, https://www.nivenly.com/wp-content/uploads/2018/03/k8s.png 400w" sizes="(max-width: 167px) 100vw, 167px" /></p>
<p>As the new Cloud Native &#8220;kernel&#8221; for distributed systems management, Kubernetes surely won&#8217;t be disappearing from my career any time soon. Nor will the CNCF. As a Kubernetes expert naturally I began my investigation into discovering technology that solved real problems in unique and powerful ways. I really wanted to find technology that I believed in, that I still hadn&#8217;t mastered, and that would get me excited. I wanted to go deeper into the little black boxes that still seemed like magic to me. I wanted more. I found myself speaking with many companies and looked at a lot of open source tools: service meshes, networking tools, deployment tools, etc.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 style="text-align: center;">There was one company that stood out&#8230;</h1>
<p><img class=" wp-image-748 aligncenter" src="http://www.nivenly.com/wp-content/uploads/2019/07/sysdig-social-sharing-logo-500x500-300x300.png" alt="" width="138" height="138" srcset="../../wp-content/uploads/2019/07/sysdig-social-sharing-logo-500x500-300x300.png 300w, ../../wp-content/uploads/2019/07/sysdig-social-sharing-logo-500x500-150x150.png 150w, ../../wp-content/uploads/2019/07/sysdig-social-sharing-logo-500x500-350x350.png 350w, ../../wp-content/uploads/2019/07/sysdig-social-sharing-logo-500x500.png 500w" sizes="(max-width: 138px) 100vw, 138px" /></p>
<h3 style="text-align: center;">I see the potential in gaining visibility into our systems at the kernel level, while operating a containerized system on top.</h3>
<h3 style="text-align: center;">Period.</h3>
<p>&nbsp;</p>
<p><a href="https://sysdig.com/" target="_blank" rel="noopener"><img class="wp-image-749 alignleft" src="http://www.nivenly.com/wp-content/uploads/2019/07/twitter-share-sysdig-300x288.png" alt="" width="80" height="77" srcset="../../wp-content/uploads/2019/07/twitter-share-sysdig-300x288.png 300w, ../../wp-content/uploads/2019/07/twitter-share-sysdig-768x736.png 768w, ../../wp-content/uploads/2019/07/twitter-share-sysdig-600x575.png 600w, ../../wp-content/uploads/2019/07/twitter-share-sysdig-365x350.png 365w, ../../wp-content/uploads/2019/07/twitter-share-sysdig.png 868w" sizes="(max-width: 80px) 100vw, 80px" /></a>Furthermore there are a lot of other reasons I made the choice I did. To be be completely honest I simply fell in love with the way everyone worked. They were a low level shop of hackers and genuine people. Everyone I met was empowered and knew precisely what they were talking about. It was a refreshing interviewing experience. Good friends from open source like the infamous POP truly helped make me feel welcomed and respected. During my interview we white boarded the Linux kernel not to pass a frivolous test, but because we genuinely needed the diagram for our discussion on <a href="https://en.wikipedia.org/wiki/Berkeley_Packet_Filter">eBPF.</a> I immediately knew that this job was going to push me forward technically. I loved it.</p>
<p>As the saga goes, the company offered me a position to take on ownership of our open source tools and I was thrilled. I am quite excited for our team, and an opportunity to do what I love doing: inspiring engineers and solving concrete problems with them!</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<hr />
<h1 style="text-align: center;"><strong>So let&#8217;s talk Falco.</strong></h1>
<p>&nbsp;</p>
<p>As part of my new role at Sysdig I will be managing our OSS team, while simultaneously working on our tools with them. I am way too excited about new friends in <a href="https://github.com/cncf/sig-security">Kubernetes SIG-security</a>. Growing Falco and driving adoption will be a primary goal for me at Sysdig. We want to flesh Falco out as the defacto way of pulling metrics from the kernel for runtime security and intrusion detection.</p>
<p><strong><a href="https://falco.org" target="_blank" rel="noopener"><img class="wp-image-776 alignright" src="http://www.nivenly.com/wp-content/uploads/2019/07/falco-logo-300x120.png" alt="" width="430" height="172" srcset="../../wp-content/uploads/2019/07/falco-logo-300x120.png 300w, ../../wp-content/uploads/2019/07/falco-logo-768x306.png 768w, ../../wp-content/uploads/2019/07/falco-logo-1024x408.png 1024w, ../../wp-content/uploads/2019/07/falco-logo-750x299.png 750w, ../../wp-content/uploads/2019/07/falco-logo-878x350.png 878w, ../../wp-content/uploads/2019/07/falco-logo.png 1192w" sizes="(max-width: 430px) 100vw, 430px" /></a></strong>Once upon a time a simple network packet had every bit of information you needed for total forensics analysis. Today with Kubernetes abstractions sharing network, disk, and memory across containerized process the network is no longer a viable avenue for learning about our complete systems behavior. This is where Falco and eBPF come into the picture.</p>
<p>Falco uses two critical components into gaining visibility of our systems. The first is a comprehensive list of syscall information that we access via eBPF. The second is our context from Kubernetes. By joining these two otherwise completely separated bits of data together, we now have everything we need to secure a Kubernetes cluster.</p>
<p>Falco allows users to dynamically build rules against this rich data set, and can take action if and when a rule is broken. This noninvasive and elegant approach to security is built on battle tested concepts, applied in exciting new ways. To be honest, I can&#8217;t wait to start hacking on the kernel with the rest of the folks on the team. I am excited to go deeper into kernel security with eBPF and Falco.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<hr />
<h1 style="text-align: center;"><strong>So lets get started!</strong></h1>
<h3><strong><img class="wp-image-799 alignright" style="border: 2px solid black;" src="http://www.nivenly.com/wp-content/uploads/2019/07/ea48e21e-c192-47ef-ab49-b2862841f042-683x1024.jpg" alt="" width="471" height="706" srcset="../../wp-content/uploads/2019/07/ea48e21e-c192-47ef-ab49-b2862841f042-683x1024.jpg 683w, ../../wp-content/uploads/2019/07/ea48e21e-c192-47ef-ab49-b2862841f042-200x300.jpg 200w, ../../wp-content/uploads/2019/07/ea48e21e-c192-47ef-ab49-b2862841f042-768x1152.jpg 768w, ../../wp-content/uploads/2019/07/ea48e21e-c192-47ef-ab49-b2862841f042-383x575.jpg 383w, ../../wp-content/uploads/2019/07/ea48e21e-c192-47ef-ab49-b2862841f042-233x350.jpg 233w" sizes="(max-width: 471px) 100vw, 471px" /></strong></h3>
<p>Today I am pleased to announce full time employment with Sysdig!</p>
<p>&nbsp;</p>
<p>I will be spending some time getting to know our current state of affairs and exploring our other open source tools moving forward. Stay tuned for updates as we start to dial up our presence in the open source ecosystem with tools like Falco.</p>
<p>&nbsp;</p>
<p>Please reach out if you are interested in collaborating or would like to find out more about our new projects. My email is <a href="mailto:kris.nova@sysdig.com">nova@sysdig.com</a> and I would love to hear from you.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<ul>
<li><a href="mailto:kris.nova@sysdig.com">kris.nova@sysdig.com</a></li>
<li><a href="http://slack.sysdig.com">slack.sysdig.com</a></li>
<li><a href="http://github.com/falcosecurity/falco">github.com/falcosecurity/falco</a></li>
<li><a href="http://falco.org">falco.org</a></li>
<li><a href="http://twitter.com/sysdig">@sysdig</a></li>
<li><a href="http://twitter.com/falco_org">@falco_org</a></li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p style="text-align: center;">
				</p>
	</div>
</div>
</div><!-- #post-## --><div id="post-731" class="post-731 post type-post status-publish format-standard hentry category-k8s">
<div class="blog_post_wrapper_main">
      <div class="blog_thumbnail"> 
	  	  </div>
</div>
<div class="blog_mk_title">
<h3><a href="../../index.html@p=731.html">Embedded Advocacy</a></h3>
</div>
<div class="blog_desc blog_details_desc mar_b_30">
	<div class="bottom">
	<span class="posted-on"> <a href="../../index.html@p=731.html" rel="bookmark"><time class="entry-date published" datetime="2019-06-07T18:37:33+00:00">June 7, 2019</time><time class="updated" datetime="2019-06-07T18:49:55+00:00">June 7, 2019</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="../../author/kris/index.html">Kris Nova</a></span></span>  
		<span class="link_icon">
		<a href="../../index.html@p=731.html"><i class="fa fa-chevron-right"></i></a>
		</span>
	</div>
	<div class="blog_content">
		<p><p>Hey Everyone!</p>
<p>So I haven&#8217;t blogged on nivenly.com in ages so I figured I was over due for a technical post. As I am sure some of you have noticed I am recently unemployed and have been spending the last week or so on back to back phone calls with a lot of big names in tech. I have been asked the following question probably 50 times in the last 10 days:</p>
<blockquote><p>What do you want to do next in your career?</p></blockquote>
<p>I have been thinking a <strong>lot</strong> about this recently, and some ideas I have been playing with for a while finally came together in my head. So I want to present this crazy notion of this probably insane idea I have.</p>
<h1 style="text-align: center;">Embedded Advocacy</h1>
<p>So let&#8217;s first cover my previous experience so we can understand how I ended up here.</p>
<h3>DevOps / SRE / Infrastructure Bro (literally)</h3>
<p>So once upon a time I wore a pager and had a beard.</p>
<p>This shouldn&#8217;t be a shock to anyone.</p>
<p>I learned a vary valuable lesson here: My job was far more fulfilling and I was far more productive when I would focus on <strong>1 thing</strong> and do it well. At this gig I was part of a dispersed &#8220;<em>DevOps</em>&#8221; team that was charged with performing a lot of bullshit for the many engineering teams we had. I felt most productive and successful when I was able to pair with a team for an extended period of time and really dig in and solve some problems. The one-off interrupt driven nature of working with other teams left me frustrated and made the quality of my work degrade as I was context switching all day every day.</p>
<h3>DevOps / SRE / Infrastructure witch</h3>
<p>I went through a gender transition NBD.</p>
<p>I then started a new job doing the same style of back end support. This time in fishnets and I was <strong>not</strong> working with multiple teams.</p>
<p><strong>I was embedded to focus on infrastructure for a SINGLE purpose</strong>.</p>
<p>This was one of the best jobs I ever worked at (until we were acquired by <code>large tech company</code>).</p>
<p>I left work every day feeling productive, successful, and proud of what I did. I made the team more productive, and was able to dig in and solve a lot of the really tough problems that nobody else could solve. To this day, I don&#8217;t think I have ever been more productive at my day job than I was here. In fact, the majority of my book Cloud Native Infrastructure was inspired from the work I did while working as an <strong>embedded DevOps engineer</strong>.</p>
<h3>Fucking Kubernetes</h3>
<p>So then Kubernetes happened.</p>
<p>People discovered I had mad backend skills, and could also perform really well under pressure (thanks pager) and next thing I know I am a developer advocate ranting about Kubernetes for a few years.</p>
<p>I never lost my passion for my backend work (and to be honest can&#8217;t wait to get back into it).</p>
<p>Working as a developer advocate has been nice, but it&#8217;s not what everyone thinks it is.</p>
<p>Travelling sucks, hotels are annoying, airlines lose your bag, you are constantly working on the go, it&#8217;s really challenging work.</p>
<p>Then the 30th of the month happens and you get a notification to do expense reports that you don&#8217;t have time for.</p>
<p>Google maps directed you to the wrong building for your talk in a country that doesn&#8217;t speak English.</p>
<p>Oh by the way, it&#8217;s time to check in for your next flight.</p>
<p>After spending some time talking with folks about what I want next in my career I realized I was trying to describe a role that doesn&#8217;t exist, and desperately needs to.</p>
<h3>Embedded Advocacy</h3>
<p>Product first.</p>
<p>Working as a DA I was a jill of all trades and a master of none. I was detached from our engineers, but was expected to represent them. There was no way for me to keep up with the many efforts that were concurrently happening so ultimately I lost my ability to be a deep and authentic knowledge expert about a single thing. This is when I noticed my passion started to slide.</p>
<p>By working as a DA for many different things it left me uninformed and overworked. The engineers were frustrated with me, and I was with them. Not to mention the customers&#8230;</p>
<h3 style="text-align: center;">Developer Advocacy has 0 business interfacing with an existing customer. That isn&#8217;t advocacy.</h3>
<p>I started to imagine a world where I could focus on a single tool. A single product. Do one thing and do it well. Contribute to engineering conversations, and help influence engineering, and still advocating for a single product <strong>if</strong> and <strong>when</strong> it was needed. There are few engineers who can do this, and I am amazed we haven&#8217;t figured out that the majority of DAs would be super stars here.</p>
<p>Imagine going alpha with an open source tool, then having one of the core engineers go out into the wild to teach folks about it and gain feedback. Then imagine them coming back to the whiteboard and sharing their findings in a digestible way to the engineering team who built the product. <strong>This. is. developer. advocacy.</strong></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p style="text-align: center;">We need to start embedding our DAs into our engineering orgs and letting them do what they are good at. Give a DA a single concrete problem, and light a fire underneath them.</p>
<p style="text-align: center;">We need to stop expecting our DAs to be our one stop shop for every single effort we have going on. This isn&#8217;t a sponsorship. Let DAs influence tech. Give them a seat in the engineering discussions to do so.</p>
<p style="text-align: center;">Embed your DAs to a single team, in the same way you would embed infrastructure engineers to a single team.</p>
<p style="text-align: center;">Let a single product define the scope of a DAs involvement with the community. Why send a DA on the road if the product doesn&#8217;t need it? Let&#8217;s be concrete people.</p>
<p style="text-align: center;">Let&#8217;s do one thing, and do it well.</p>
<p>&nbsp;</p>
<p><code>&lt;/endrant&gt;</code></p>
<p>&nbsp;</p>
				</p>
	</div>
</div>
</div><!-- #post-## --><div id="post-695" class="post-695 post type-post status-publish format-standard hentry category-k8s">
<div class="blog_post_wrapper_main">
      <div class="blog_thumbnail"> 
	  	  </div>
</div>
<div class="blog_mk_title">
<h3><a href="../../index.html@p=695.html">Kubecon &#8211; Copenhagen 2018 &#8211; Office Hours</a></h3>
</div>
<div class="blog_desc blog_details_desc mar_b_30">
	<div class="bottom">
	<span class="posted-on"> <a href="../../index.html@p=695.html" rel="bookmark"><time class="entry-date published" datetime="2018-04-29T23:56:37+00:00">April 29, 2018</time><time class="updated" datetime="2018-04-30T00:26:23+00:00">April 30, 2018</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="../../author/kris/index.html">Kris Nova</a></span></span>  
		<span class="link_icon">
		<a href="../../index.html@p=695.html"><i class="fa fa-chevron-right"></i></a>
		</span>
	</div>
	<div class="blog_content">
		<p><p>Hey Everyone,</p>
<p>&nbsp;</p>
<p>Me again.</p>
<p>&nbsp;</p>
<p>Okay so I am on the plane and heading to Kubecon. I haven&#8217;t updated this blog in a while so I figured it was time for a good post. Also I have been thinking about engineering a solution to a problem I have had at Kubecon in the past.</p>
<p>&nbsp;</p>
<h3>Problem Statement</h3>
<p>I am beyond busy at Kubecon, and rarely get enough time to spend with the folks I would like to.</p>
<h3>Proposed Solution</h3>
<p>I was thinking about setting up an office hours situation at Kubecon where folks could come and get some time to talk about <strong>whatever </strong>they want.</p>
<p>I have had folks come out as <strong>transgender</strong>, or <strong>homosexual</strong> to me at tech conferences. I have had folks want to <strong>talk about family</strong>, their <strong>career</strong>, advice on <strong>writing a book</strong>. Help with<strong> installing Kubernetes</strong>. Advice on <strong>CI/CD systems</strong>. Questions about their <strong>company</strong>. The list goes <strong>on</strong> and <strong>on</strong>!</p>
<p>To be clear <strong>I very much enjoyed all of these personal encounters</strong>. I think about them all the time, and still routinely talk to most of these people.</p>
<p><strong>I was sad</strong> that I didn&#8217;t get more time with some folks as I was running around like a mad woman. So I wanted to be a little more structured this time.</p>
<p>So I am going to try to use <strong>calendly</strong> to help me stay organized at the conference and to book some time with people.</p>
<p>&nbsp;</p>
<h3></h3>
<h3>Here is how it works:</h3>
<ol>
<li>Book time with me at the conference</li>
<li>I find a <strong>small confidential</strong> corner of the conference for us to hang out at.</li>
<li>I let you know via email where to meet me.</li>
<li>We meet up and can talk about <strong>literally anything</strong>. This is your time ❤️</li>
<li>I will stay as long as I can &#8211; so long as nobody else is waiting.</li>
<li>Thats it.</li>
</ol>
<h3></h3>
<h3 style="text-align: center;">You can book time with me <a href="https://calendly.com/knova/kubecon-copenhagen-1-1/">here</a></h3>
<p><a href="https://calendly.com/knova/kubecon-copenhagen-1-1/"><img class="aligncenter wp-image-701 size-medium" src="http://www.nivenly.com/wp-content/uploads/2018/04/book-300x120.png" alt="" width="300" height="120" srcset="../../wp-content/uploads/2018/04/book-300x120.png 300w, ../../wp-content/uploads/2018/04/book.png 355w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>FAQ:</h3>
<p>&nbsp;</p>
<p><strong>Does this mean this is all I get?</strong></p>
<p>Nope.</p>
<p>This is just a way to keep things structured, normal conference chaos rules still apply &#8211; I just give the folks who book time priority.</p>
<p>&nbsp;</p>
<p><strong>Can we really talk about anything?</strong></p>
<p>100% yes. We can take selfies, bitch about tech, whatever.</p>
<p>&nbsp;</p>
<p><b>How will I find you?</b></p>
<p>I will send you an email (you give me your email address when you sign up) that tells you what to do. Don&#8217;t worry if something happens or you can&#8217;t find me &#8211; we will re-schedule and make it work.</p>
<p>&nbsp;</p>
<p><b>What if I can&#8217;t find you?</b></p>
<p>Don&#8217;t worry if something happens or you can&#8217;t find me &#8211; we will re-schedule and make it work.</p>
<p>&nbsp;</p>
<p><strong>Can I pick the place?</strong></p>
<p>Yep &#8211; just let me know in the email! We can get food, booze, coffee, ice cream &#8211; whatever.</p>
<p>&nbsp;</p>
<p style="text-align: center;">
<h3 style="text-align: center;">You can book time with me <a href="https://calendly.com/knova/kubecon-copenhagen-1-1/">here</a></h3>
<p><a href="https://calendly.com/knova/kubecon-copenhagen-1-1/"><img class="aligncenter wp-image-701 size-medium" src="http://www.nivenly.com/wp-content/uploads/2018/04/book-300x120.png" alt="" width="300" height="120" srcset="../../wp-content/uploads/2018/04/book-300x120.png 300w, ../../wp-content/uploads/2018/04/book.png 355w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>&nbsp;</p>
				</p>
	</div>
</div>
</div><!-- #post-## --><div id="post-671" class="post-671 post type-post status-publish format-standard hentry category-go category-k8s category-unix tag-api tag-article tag-blog tag-cluster tag-cluster-api tag-controller tag-infrastructure tag-k8s tag-kubernetes tag-kubicorn tag-update">
<div class="blog_post_wrapper_main">
      <div class="blog_thumbnail"> 
	  	  </div>
</div>
<div class="blog_mk_title">
<h3><a href="../../index.html@p=671.html">Meanwhile, in the kubicorn repository&#8230;</a></h3>
</div>
<div class="blog_desc blog_details_desc mar_b_30">
	<div class="bottom">
	<span class="posted-on"> <a href="../../index.html@p=671.html" rel="bookmark"><time class="entry-date published" datetime="2018-03-14T05:40:42+00:00">March 14, 2018</time><time class="updated" datetime="2018-03-14T14:36:40+00:00">March 14, 2018</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="../../author/kris/index.html">Kris Nova</a></span></span>  
		<span class="link_icon">
		<a href="../../index.html@p=671.html"><i class="fa fa-chevron-right"></i></a>
		</span>
	</div>
	<div class="blog_content">
		<p><h1>Okay &#8211; wow &#8211; it&#8217;s been a long time since I have blogged here&#8230;</h1>
<p>&nbsp;</p>
<p style="text-align: center;">❤️ Hi everyone! I missed you! ❤️</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p style="text-align: left;"><a href="https://www.nivenly.com/category/k8s/github.com/kubicorn/kubicorn"><img class="alignleft" src="https://raw.githubusercontent.com/kubicorn/kubicorn/master/docs/img/kubicorn-trans.png" alt="" width="212" height="236" /></a>So due to some unforeseen circumstance in the past ~year or so&#8230; I was unable to continue contributing to my <strong>pride</strong> and <strong>joy</strong> <a href="https://github.com/kubicorn/kubicorn">Kubicorn!</a> It&#8217;s been a real bummer, but I am glad to say that those days are officially behind me!</p>
<p>&nbsp;</p>
<p>The good news? I am back! And we are working hard on making <code>kubicorn</code> even more amazing!</p>
<p>&nbsp;</p>
<p>So without further delay, let&#8217;s start looking into what I wanted to update everyone about <code>kubicorn</code>.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1>What is <a href="http://github.com/kubicorn/kubicorn"><code>kubicorn</code></a>?</h1>
<h3>Kubicorn is a Kubernetes infrastructure management tool!</h3>
<p><code>kubicorn</code> attempts to solve managing kubernetes based infrastructure in a cloud native way. The project is supported by the <a href="https://www.cncf.io">Cloud Native Computing Foundation (CNCF) </a> and attempts to offer a few things unique to cloud native infrastructure:</p>
<ol>
<li>Modular components</li>
<li>Vendorable library in Go</li>
<li>A guarantee-less framework that is flexible and scalable</li>
<li>A solid way to bootstrap and manage your infrastructure</li>
<li>Software to manage infrastructure</li>
</ol>
<p>&nbsp;</p>
<p>These patterns are fundamental to understanding cloud native technologies, and (in my opinion) are the future of infrastructure management!</p>
<p style="text-align: center;"><em>How do I know this? I literally <a href="http://www.cnibook.info">wrote the book on it</a>&#8230;</em></p>
<p>TLDR; It&#8217;s a badass command line tool that goes from <code>0</code>to <code>kubernetes</code> in just a few moments.</p>
<p>&nbsp;</p>
<h1>What&#8217;s new in <a href="http://github.com/kubicorn/kubicorn"><code>kubicorn</code></a>?</h1>
<h3>We have officially adopted the Kubernetes cluster API</h3>
<p>The cluster API is an official working group in the Kubernetes community.</p>
<p>The pattern dictates that while bootstrapping a cluster, <code>kubicorn</code> will first create the Kubernetes control plane.</p>
<p>Then <code>kubicorn</code> will define the control plane itself, as well as the machines that will serve as the nodes (workhorses) of the Kubernetes cluster.</p>
<p>Finally, <code>kubicorn</code>will install a controller that will realize the machines defined in the previous step.</p>
<p>This allows for arbitrary clients to adjust the machine definition, without having to care how <code>kubicorn</code> will <strong>autoscale</strong> their cluster.</p>
<p>&nbsp;</p>
<p><a href="../../wp-content/uploads/2018/03/k8s.png"><img class="aligncenter wp-image-677 size-thumbnail" src="../../wp-content/uploads/2018/03/k8s-150x150.png" alt="" width="150" height="150" srcset="https://www.nivenly.com/wp-content/uploads/2018/03/k8s-150x150.png 150w, ../../wp-content/uploads/2018/03/k8s-300x300.png 300w, ../../wp-content/uploads/2018/03/k8s-350x350.png 350w, https://www.nivenly.com/wp-content/uploads/2018/03/k8s.png 400w" sizes="(max-width: 150px) 100vw, 150px" /></a></p>
<p style="text-align: center;"><strong>Autoscaling infrastructure, the kubernetes way!</strong></p>
<p><a href="http://www.nivenly.com/wp-content/uploads/2018/03/kubicorn-patten.png"><img class="aligncenter wp-image-676 size-full" src="http://www.nivenly.com/wp-content/uploads/2018/03/kubicorn-patten.png" alt="" width="512" height="402" srcset="../../wp-content/uploads/2018/03/kubicorn-patten.png 512w, ../../wp-content/uploads/2018/03/kubicorn-patten-300x236.png 300w, ../../wp-content/uploads/2018/03/kubicorn-patten-446x350.png 446w" sizes="(max-width: 512px) 100vw, 512px" /></a></p>
<p>So this is an official working group of Kubernetes, and more information can be found <a href="https://github.com/kubernetes/community/tree/master/wg-cluster-api">here</a>!</p>
<p>We are currently working on building out this framework, and if you think it is a good idea (like we do) feel free to get involved.</p>
<ul>
<li><a href="http://slack.k8s.io/">Slack channel</a> #kubicorn</li>
<li><a href="https://groups.google.com/forum/#!forum/kubicorn-users-and-developers">Mailing List (with calendar invite to developer calls)</a></li>
<li><a href="https://github.com/kubicorn/kubicorn">Github</a></li>
</ul>
<h3>We have a dope website</h3>
<p><a href="http://kubicorn.io">kubicorn.io</a></p>
<p>So many thanks to <a href="https://twitter.com/ellenkorbes">Ellen</a> for her hard work in building out our fabulous site. If you would like to contribute please let us know!</p>
<h3>We have moved to our own GitHub organization</h3>
<p>Despite my attempts to keep the project as one of my pets, it&#8217;s just gotten too big. It has now moved to it&#8217;s own organization. We would love for YOU to get involved. Just open up an issue or contact <strong>Kris Nova</strong> if you would like to join.</p>
<h3>We are just now starting on the controller</h3>
<p>Writing the infrastructure controller is probably the most exciting thing to happen to the project yet.</p>
<p>We literally JUST started the <a href="https://github.com/kubicorn/controller">repository</a>. Get in now, while the getting is good!</p>
<p>We need help with the Dockerfile, with the idea behind the controller, and even with the code to make it so. If you wan&#8217;t to get involved, now is your chance!</p>
<h3>We want your help</h3>
<p>Seriously.</p>
<p>Our lead maintainer <a href="https://twitter.com/xmudrii">Marko</a> started out as someone on the internet just like you. He is now a super admin of the project, and is a rock star at keeping up with the day-to-day work of <code>kubicorn</code>.</p>
<p>We would love to help you become a cloud native badass if you would like to contribute. Please join the <a href="http://slack.k8s.io/">slack channel</a> and start talking to us.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>And of course as always&#8230;</p>
<p>&nbsp;</p>
<h3>Let me know what you think in the comments below!</h3>
				</p>
	</div>
</div>
</div><!-- #post-## --><div id="post-576" class="post-576 post type-post status-publish format-standard hentry category-go category-k8s category-msft">
<div class="blog_post_wrapper_main">
      <div class="blog_thumbnail"> 
	  	  </div>
</div>
<div class="blog_mk_title">
<h3><a href="../../index.html@p=576.html">I ran terraform in Kubernetes</a></h3>
</div>
<div class="blog_desc blog_details_desc mar_b_30">
	<div class="bottom">
	<span class="posted-on"> <a href="../../index.html@p=576.html" rel="bookmark"><time class="entry-date published" datetime="2017-09-20T19:29:46+00:00">September 20, 2017</time><time class="updated" datetime="2017-09-20T20:17:30+00:00">September 20, 2017</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="../../author/kris/index.html">Kris Nova</a></span></span>  
		<span class="link_icon">
		<a href="../../index.html@p=576.html"><i class="fa fa-chevron-right"></i></a>
		</span>
	</div>
	<div class="blog_content">
		<p><p>Hey everyone!</p>
<p>So a huge thanks to Hashiconf for letting me come out and talk about this stuff in person! But for those of you who missed it, or want more information there is also this blog on the matter as well.</p>
<p>So this is just a quick technical follow up of the tool <code>terraformctl</code> that I used in my session to get Terraform up and running inside of Kubernetes as a controller!</p>
<h1>What is terraformctl?</h1>
<p>A command line tool and gRPC server that is pronounced <strong>Terraform Cuddle</strong>.</p>
<p>&nbsp;</p>
<p><a href="https://github.com/kris-nova/terraformctl">The GitHub repo can be found here</a>!</p>
<p>&nbsp;</p>
<p>It&#8217;s a philosophical example of how infrastructure engineers might start looking at <strong>running cloud native applications to manage infrastructure</strong>. The idea behind the tool is to introduce this new way of thinking, and not necessarily to be the concrete implementation you are working for. This idea is new, and therefore a lot of tooling is till being crafted. This is just a quick and dirty example of what it <strong>might</strong> look like.</p>
<p><img class="wp-image-578 size-full aligncenter" src="http://www.nivenly.com/wp-content/uploads/2017/09/TerraformCTL-1.png" alt="" width="961" height="371" srcset="../../wp-content/uploads/2017/09/TerraformCTL-1.png 961w, ../../wp-content/uploads/2017/09/TerraformCTL-1-300x116.png 300w, ../../wp-content/uploads/2017/09/TerraformCTL-1-768x296.png 768w, ../../wp-content/uploads/2017/09/TerraformCTL-1-750x290.png 750w, ../../wp-content/uploads/2017/09/TerraformCTL-1-907x350.png 907w" sizes="(max-width: 961px) 100vw, 961px" /></p>
<p>Terraformctl follows a simple client/server pattern.</p>
<p>We use gRPC to define the protocol in which the client will communicate with the server.</p>
<p>The server is a program written in Golang that will handle incoming gRPC requests concurrently while running a control loop.</p>
<p>The incoming requests are cached to a mutex controlled shared point in memory.</p>
<p>The control loop reads from the shared memory.</p>
<p>Voila. Concurrent microservices in Go!</p>
<h1>What is cloud native infrastructure?</h1>
<p><img class="alignright wp-image-580 size-medium" src="http://www.nivenly.com/wp-content/uploads/2017/09/cnibook-229x300.png" alt="" width="229" height="300" srcset="../../wp-content/uploads/2017/09/cnibook-229x300.png 229w, ../../wp-content/uploads/2017/09/cnibook-267x350.png 267w, ../../wp-content/uploads/2017/09/cnibook.png 381w" sizes="(max-width: 229px) 100vw, 229px" />Well it&#8217;s this crazy idea that we should start looking at managing cloud native infrastructure in the same way we manage traditional cloud native applications.</p>
<p>If we treat <strong>infrastructure as software </strong>then we have no reason to run the software in legacy or traditional ways when we can truly concur our software by running it in a cloud native way. I love this idea so much that I helped author a book on the subject! <a href="http://cnibook.info">Feel free to check it out here</a>!</p>
<p>The bottom line is that the new way of looking at the stack is to start thinking of the layers that were traditionally managed in other ways as layers that are now managed by discreet and happy applications. These applications can be ran in containers, and orchestrated in the same ways that all other applications can. So why not do that? YOLO.</p>
<h1>What Terraformctl is not..</h1>
<p>Terraformctl is not (and will never be) production ready.</p>
<p>It&#8217;s a demo tool, and it&#8217;s hacky. If you really want to expand on my work feel free to ping me, or just out right fork it. I don&#8217;t have time to maintain yet another open source project unfortunately.</p>
<p>Terraformctl is not designed to replace any enterprise solutions, it&#8217;s just a thought experiment. Solving these problems is extremely hard, so I just want more people to understand what is really going into these tools.</p>
<p>Furthermore there are a number of features not yet implemented in the code base, that the code base was structure for. Who knows, maybe one day I will get around to coding them. We will see.</p>
<p>If you really, really, really want to talk more about this project. Please email me at <strong>kris@nivenly.com</strong>.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
				</p>
	</div>
</div>
</div><!-- #post-## --><div id="post-509" class="post-509 post type-post status-publish format-standard hentry category-k8s tag-bootstrap tag-cluster tag-create tag-deploy tag-digital-ocean tag-kubernetes tag-mesh tag-service tag-vpn">
<div class="blog_post_wrapper_main">
      <div class="blog_thumbnail"> 
	  	  </div>
</div>
<div class="blog_mk_title">
<h3><a href="../../index.html@p=509.html">Kubernetes on Digital Ocean with encrypted VPN service mesh with kubicorn</a></h3>
</div>
<div class="blog_desc blog_details_desc mar_b_30">
	<div class="bottom">
	<span class="posted-on"> <a href="../../index.html@p=509.html" rel="bookmark"><time class="entry-date published" datetime="2017-08-04T04:09:54+00:00">August 4, 2017</time><time class="updated" datetime="2017-08-14T23:06:42+00:00">August 14, 2017</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="../../author/kris/index.html">Kris Nova</a></span></span>  
		<span class="link_icon">
		<a href="../../index.html@p=509.html"><i class="fa fa-chevron-right"></i></a>
		</span>
	</div>
	<div class="blog_content">
		<p><p><a class="github-button" href="https://github.com/kris-nova" data-style="mega" data-count-href="/kris-nova/followers" data-count-api="/users/kris-nova#followers" data-count-aria-label="# followers on GitHub">Follow @kris-nova</a></p>
<p><a class="twitter-follow-button" href="https://twitter.com/kris__nova"><br />
Follow @kris__nova (I am fucking awesome)</a></p>
<h1>What are we creating?</h1>
<ul>
<li>Kubernetes v1.7.3</li>
<li>Private Networking in Digital Ocean</li>
<li>Encrypted VPN mesh for droplets</li>
<li>Ubuntu Droplets</li>
</ul>
<p>So at Gophercon I released <a href="https://github.com/kris-nova/kubicorn">my latest project kubicorn</a>.</p>
<p>As I go along I want to publish a set of use cases as examples. This helps me exercise <code>kubicorn</code> and understand my assumptions. It would be really cool if others could step in and use these cases to improve the system.</p>
<figure id="attachment_510" style="width: 1040px" class="wp-caption aligncenter"><img class="wp-image-510 size-full" src="http://www.nivenly.com/wp-content/uploads/2017/08/Screenshot-from-2017-08-03-21-43-22.png" alt="" width="1040" height="734" srcset="../../wp-content/uploads/2017/08/Screenshot-from-2017-08-03-21-43-22.png 1040w, ../../wp-content/uploads/2017/08/Screenshot-from-2017-08-03-21-43-22-300x212.png 300w, ../../wp-content/uploads/2017/08/Screenshot-from-2017-08-03-21-43-22-768x542.png 768w, ../../wp-content/uploads/2017/08/Screenshot-from-2017-08-03-21-43-22-1024x723.png 1024w, ../../wp-content/uploads/2017/08/Screenshot-from-2017-08-03-21-43-22-750x529.png 750w, ../../wp-content/uploads/2017/08/Screenshot-from-2017-08-03-21-43-22-496x350.png 496w" sizes="(max-width: 1040px) 100vw, 1040px" /><figcaption class="wp-caption-text">7 Node Cluster in Digital Ocean</figcaption></figure>
<h1>Creating your cluster</h1>
<p>So the deployment process is pretty straight forward. The first thing you need to do is grab a copy of `kubicorn v0.0.003`.</p>
<pre class="brush: plain; title: ; notranslate" title="">

$ go get github.com/kris-nova/kubicorn

</pre>
<p>Verify <code>kubicorn</code> is working, and you are running the right version.</p>
<pre class="brush: plain; title: ; notranslate" title="">
$ kubicorn --fab
</pre>
<p>Also you will need a Digital Ocean access key. You can use <a href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-api-v2#how-to-generate-a-personal-access-token">this guide</a> to help you create one. Then just export the key as an environmental variable.</p>
<pre class="brush: plain; title: ; notranslate" title=""> 
$ export DIGITALOCEAN_ACCESS_TOKEN=***************************************** 
</pre>
<p>The project offers a starting point for a digital ocean cluster called a <strong>profile</strong>. Go ahead and create one on your local filesystem.</p>
<pre class="brush: plain; title: ; notranslate" title="">
$ kubicorn create dofuckyeah --profile do
</pre>
<p>Feel free to take a look at the newly created representation of the cluster and tweak it to your liking. Here is what mine looks like</p>
<p>For my cluster all I did was change the <code>maxCount</code> from 3 to 7 for my node <code>serverPool</code>.</p>
<p>When you are happy with your config, go ahead and apply the changes!</p>
<pre class="brush: plain; title: ; notranslate" title="">
$ kubicorn apply dofuckyeah -v 4
</pre>
<p>Then check out your new cluster and wait for your nodes to come to life!</p>
<pre class="brush: plain; title: ; notranslate" title="">
$ kubectl get no
</pre>
<figure id="attachment_514" style="width: 428px" class="wp-caption aligncenter"><img class="wp-image-514 size-full" src="http://www.nivenly.com/wp-content/uploads/2017/08/Screenshot-from-2017-08-03-22-01-53.png" alt="" width="428" height="212" srcset="../../wp-content/uploads/2017/08/Screenshot-from-2017-08-03-22-01-53.png 428w, ../../wp-content/uploads/2017/08/Screenshot-from-2017-08-03-22-01-53-300x149.png 300w" sizes="(max-width: 428px) 100vw, 428px" /><figcaption class="wp-caption-text">kubectl get nodes</figcaption></figure>
<h1>What we created</h1>
<p>We created 8 droplets, all running Ubuntu 16.04</p>
<p>The master droplet uses a <a href="https://github.com/meshbird/meshbird">fantastic tool</a> called <code>meshbird</code> to create an encrypted private VPN service mesh on Digital Ocean private networking.</p>
<p>Each of the droplets get a new virtual NIC called <code>tun0</code> that allows each of the droplets to route on a private VPN.</p>
<p>The nodes register against the master via the newly created virtual NIC.</p>
<p>The master API is advertised on the public IP of the master droplet.</p>
<p style="text-align: center;">You can checkout <a href="https://github.com/kris-nova/kubicorn/blob/master/bootstrap/digitalocean_k8s_ubuntu_16.04_master.sh">the bootstrap script for the master here</a>, and for <a href="https://github.com/kris-nova/kubicorn/blob/master/bootstrap/digitalocean_k8s_ubuntu_16.04_node.sh">the nodes here</a>.</p>
<p>And thanks to <code>kubeadm</code>&#8230;</p>
<p style="text-align: center;"><strong>Poof. Kubernetes.</strong></p>
<h1>Want to learn more?</h1>
<p>Check out the <a href="https://github.com/kris-nova/kubicorn">kubicorn</a> project on GitHub!</p>
<p>Follow <a href="https://twitter.com/kubicornk8s">@kubicornk8</a>s on Twitter to get up to the second updates!</p>
<p>Join us in #kubicorn in the <a href="https://invite.slack.golangbridge.org/">official Gopher&#8217;s slack</a>!</p>
<p>&nbsp;</p>
<p><a class="github-button" href="https://github.com/kris-nova" data-style="mega" data-count-href="/kris-nova/followers" data-count-api="/users/kris-nova#followers" data-count-aria-label="# followers on GitHub">Follow @kris-nova</a></p>
<p><a class="twitter-follow-button" href="https://twitter.com/kris__nova"><br />
Follow @kris__nova (I am fucking awesome)</a></p>
				</p>
	</div>
</div>
</div><!-- #post-## --><div id="post-481" class="post-481 post type-post status-publish format-standard hentry category-k8s">
<div class="blog_post_wrapper_main">
      <div class="blog_thumbnail"> 
	  	  </div>
</div>
<div class="blog_mk_title">
<h3><a href="../../index.html@p=481.html">Kubicorn</a></h3>
</div>
<div class="blog_desc blog_details_desc mar_b_30">
	<div class="bottom">
	<span class="posted-on"> <a href="../../index.html@p=481.html" rel="bookmark"><time class="entry-date published" datetime="2017-07-17T08:21:32+00:00">July 17, 2017</time><time class="updated" datetime="2017-08-14T23:07:17+00:00">August 14, 2017</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="../../author/kris/index.html">Kris Nova</a></span></span>  
		<span class="link_icon">
		<a href="../../index.html@p=481.html"><i class="fa fa-chevron-right"></i></a>
		</span>
	</div>
	<div class="blog_content">
		<p><p><a class="github-button" href="https://github.com/kris-nova" data-style="mega" data-count-href="/kris-nova/followers" data-count-api="/users/kris-nova#followers" data-count-aria-label="# followers on GitHub">Follow @kris-nova</a></p>
<p><a class="twitter-follow-button" href="https://twitter.com/kris__nova"><br />
Follow @kris__nova (I am fucking awesome)</a></p>
<p>Just keep reading.. I promise this is worth it..</p>
<p>Okay so I made a new Kubernetes infrastructure tool (sorry not sorry). Introducing my latest pile of rubbish&#8230; <code>kubicorn</code>!</p>
<p>Check it out on github <a href="https://github.com/kris-nova/kubicorn">here.</a></p>
<h3>Why I made the tool</h3>
<p>I made the tool for a lot of reasons. The main one is so that I could have some architectural freedom. Here are some other reasons:</p>
<ul>
<li>I want to start using (<strong>or abusing</strong>) kubeadm</li>
<li>I believe in standardizing a Kubernetes cluster API for the community</li>
<li>I believe in pulling configuration out of the engine, so users can define their own</li>
<li>I believe in creating the tool as a consumable library, so others can start to use it to build infrastructure operators</li>
<li>I wanted to enforce the concept of reconciliation, and pull it all the way up to the top of the library</li>
<li>I want to support multiple clouds (<strong>really</strong>)</li>
<li>I want it to be EASY to build a cloud implementation</li>
<li>I want it to be EASY to understand the code base</li>
<li>I want it to be EASY contribute to the project</li>
<li>I want it to be as idiomatic Go as possible</li>
</ul>
<p>I am sure there are more, but you get the idea.</p>
<h3>What it does</h3>
<p>It empowers the user (<strong>that&#8217;s you</strong>) to manage infrastructure.</p>
<p>It lets the user (<strong>still you</strong>) define things like what the infrastructure should look like, and how the cluster should bootstrap.</p>
<p>It offers really great starting points (<strong>called <a href="https://github.com/kris-nova/kubicorn/tree/master/profiles">profiles</a></strong>) that are designed to work out of the box. Tweak away!</p>
<p>It (<strong>eventually</strong>) will take snapshots of clusters to create an image. The image is <strong>both</strong> the <strong>infrastructure</strong> layer as well as the <strong>application</strong> layer bundled up into a lovely tarball. The tarball can be moved around, replicated, saved, and backed up. The tarball is a record of your <strong>entire</strong> cluster state (including infrastructure!).</p>
<h3>What is next?</h3>
<p>Please help me.</p>
<p>I need contributors and volunteers for the project. I want to share as much knowledge as possible with the user (<strong>you!</strong>) so that everyone can begin contributing.</p>
<h3>What clouds do we support?</h3>
<p><strong>Today</strong>? AWS</p>
<p><strong>Tomorrow</strong>? Digital Ocean (literally tomorrow.. <a href="https://github.com/kris-nova/kubicorn/pull/66">checkout out the PR</a>)</p>
<p><strong>Next</strong>? You tell me. The whole point here is that the implementation is easy, so anyone can do it.</p>
<p>&nbsp;</p>
<h3 style="text-align: center;">Kubicorn vs Kops</h3>
<p>&nbsp;</p>
<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;}<br />.tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}<br />.tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}<br />.tg .tg-yw4l{vertical-align:top}<br /></style>
<table class="tg">
<tbody>
<tr>
<th class="tg-031e">Feature</th>
<th class="tg-031e">Kops</th>
<th class="tg-yw4l">Kubicorn</th>
</tr>
<tr>
<td class="tg-031e">HA Clusters</td>
<td class="tg-031e">✔</td>
<td class="tg-yw4l">✖</td>
</tr>
<tr>
<td class="tg-031e">Easy to use library</td>
<td class="tg-031e">✖</td>
<td class="tg-yw4l">✔</td>
</tr>
<tr>
<td class="tg-031e">Kubeadm</td>
<td class="tg-031e">✖</td>
<td class="tg-yw4l">✔</td>
</tr>
<tr>
<td class="tg-yw4l">Bring your own bootstrap</td>
<td class="tg-yw4l">✖</td>
<td class="tg-yw4l">✔</td>
</tr>
<tr>
<td class="tg-yw4l">Awesome as shit</td>
<td class="tg-yw4l">✔</td>
<td class="tg-yw4l">✔</td>
</tr>
<tr>
<td class="tg-yw4l">API in Go</td>
<td class="tg-yw4l">✔</td>
<td class="tg-yw4l">✔</td>
</tr>
<tr>
<td class="tg-yw4l">Digital Ocean Support</td>
<td class="tg-yw4l">✖</td>
<td class="tg-yw4l">✔</td>
</tr>
<tr>
<td class="tg-yw4l">Kubernetes Official</td>
<td class="tg-yw4l">✔</td>
<td class="tg-yw4l">✖</td>
</tr>
<tr>
<td class="tg-yw4l">Multiple Operating Systems (Ubuntu, CentOS, etc)</td>
<td class="tg-yw4l">✖</td>
<td class="tg-yw4l">✔</td>
</tr>
<tr>
<td class="tg-yw4l">Requires DNS</td>
<td class="tg-yw4l">✔</td>
<td class="tg-yw4l">✖</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h1>Setting up Kubernetes 1.7.0 in AWS with Kubicorn</h1>
<p><strong>This is not ready for production! I started coding this a few weeks ago in my free time, and it&#8217;s very new!</strong></p>
<p>Also check out the official walkthrough <a href="https://github.com/kris-nova/kubicorn/blob/master/docs/aws/walkthrough.md">here</a>!</p>
<h3>Install kubicorn</h3>
<pre class="brush: bash; title: ; notranslate" title="">
go get github.com/kris-nova/kubicorn
</pre>
<h3>Create a cluster API</h3>
<pre class="brush: bash; title: ; notranslate" title="">
kubicorn create knova --profile aws
</pre>
<h3>Authenticate</h3>
<p>You should probably create a new IAM user for this, with the following permission</p>
<ul>
<li>AmazonEC2FullAccess</li>
<li>AutoScalingFullAccess</li>
<li>AmazonVPCFullAccess</li>
</ul>
<p>Then export your auth information</p>
<pre class="brush: bash; title: ; notranslate" title="">
export AWS_ACCESS_KEY_ID=&quot;omgsecret&quot;
export AWS_SECRET_ACCESS_KEY=&quot;evenmoresecret&quot;
</pre>
<h3>Apply</h3>
<p>Then you can apply your changes!</p>
<pre class="brush: bash; title: ; notranslate" title="">
kubicorn apply knova
</pre>
<p>&nbsp;</p>
<figure id="attachment_482" style="width: 640px" class="wp-caption aligncenter"><img class="wp-image-482 size-large" src="http://www.nivenly.com/wp-content/uploads/2017/07/example-1024x726.png" alt="" width="640" height="454" srcset="../../wp-content/uploads/2017/07/example-1024x726.png 1024w, ../../wp-content/uploads/2017/07/example-300x213.png 300w, ../../wp-content/uploads/2017/07/example-768x544.png 768w, ../../wp-content/uploads/2017/07/example-750x532.png 750w, ../../wp-content/uploads/2017/07/example-494x350.png 494w, ../../wp-content/uploads/2017/07/example.png 1450w" sizes="(max-width: 640px) 100vw, 640px" /><figcaption class="wp-caption-text">Example Output</figcaption></figure>
<p>&nbsp;</p>
<h3>Access</h3>
<p>Then you can access your cluster</p>
<pre class="brush: plain; title: ; notranslate" title="">
kubectl get nodes
</pre>
<h3>Delete</h3>
<p>Delete your cluster</p>
<pre class="brush: plain; title: ; notranslate" title="">
kubicorn delete knova
</pre>
<p><a class="github-button" href="https://github.com/kris-nova" data-style="mega" data-count-href="/kris-nova/followers" data-count-api="/users/kris-nova#followers" data-count-aria-label="# followers on GitHub">Follow @kris-nova</a></p>
<p><a class="twitter-follow-button" href="https://twitter.com/kris__nova"><br />
Follow @kris__nova (I am fucking awesome)</a></p>
				</p>
	</div>
</div>
</div><!-- #post-## --><div id="post-174" class="post-174 post type-post status-publish format-standard has-post-thumbnail hentry category-k8s">
<div class="blog_post_wrapper_main">
      <div class="blog_thumbnail"> 
	   
		<img width="600" height="339" src="../../wp-content/uploads/2016/12/kubernetes-thumb.png" class="attachment-full size-full wp-post-image" alt="" srcset="../../wp-content/uploads/2016/12/kubernetes-thumb.png 600w, ../../wp-content/uploads/2016/12/kubernetes-thumb-300x170.png 300w" sizes="(max-width: 600px) 100vw, 600px" />	  	  </div>
</div>
<div class="blog_mk_title">
<h3><a href="../../index.html@p=174.html">Your 2nd day with Kubernetes on AWS</a></h3>
</div>
<div class="blog_desc blog_details_desc mar_b_30">
	<div class="bottom">
	<span class="posted-on"> <a href="../../index.html@p=174.html" rel="bookmark"><time class="entry-date published" datetime="2017-03-02T05:47:03+00:00">March 2, 2017</time><time class="updated" datetime="2017-03-20T01:28:32+00:00">March 20, 2017</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="../../author/kris/index.html">Kris Nova</a></span></span>  
		<span class="link_icon">
		<a href="../../index.html@p=174.html"><i class="fa fa-chevron-right"></i></a>
		</span>
	</div>
	<div class="blog_content">
		<p><h1>Your 2nd day with Kubernetes on AWS</h1>
<p>Okay, so you have a cluster up and running on AWS. Now what? Seriously, managing a Kubernetes cluster is hard. Especially if you are even thinking about keeping up with the pace of the community. The good news, is that <code>kops</code> makes this easy. Here a few commonly used stories on how to manage a cluster after everything is already up and running. If there is something you don&#8217;t see, that you would like, please let me know!</p>
<p>This tutorial assumes you were able to<a href="../../setting-up-a-kubernetes-cluster-in-aws-with-kops-1-5-0/index.html"> successfully get a cluster up and running in AWS</a>, and you are now ready to see what else it can do.</p>
<p>In this tutorial we are covering 2nd day concerns for managing a Kubernetes cluster on AWS. The idea of this tutorial is to exercise some useful bits of <code>kops</code> functionality that you won&#8217;t see during a cluster deployment. Here we <strong>really</strong> open up <code>kops</code> to see what she can do (yes, <code>kops</code> is a girl)</p>
<p>In this tutorial we will be running <code>kops</code> 1.5.1, which can be <a href="https://github.com/kubernetes/kops/releases/tag/1.5.1">downloaded here</a>.</p>
<p>We will also be making the assumption that you have an environment setup similar to the following.</p>
<pre class="brush: plain; title: ; notranslate" title="">
export NAME=nextday.nivenly.com
export KOPS_STATE_STORE=s3://nivenly-com-state-store
</pre>
<h1>Upgrading Kubernetes with kops</h1>
<p>Suppose you are running an older version of Kubernetes, and want to run the latest and greatest..</p>
<p>Here we will start off with a <code>Kubernetes v1.4.8</code> cluster. We are picking an older cluster here to demonstrate the workflow in which you could upgrade your Kubernetes cluster. The project evolves quickly, and you want to be able to iterate on your clusters just as quickly. To deploy a <code>Kubernetes v1.4.8</code> cluster:</p>
<pre class="brush: plain; title: ; notranslate" title="">
kops create cluster --zones us-west-2a --kubernetes-version 1.4.8 $KOPS_NAME --yes
</pre>
<p>As the cluster is deploying, notice how <code>kops</code> will conveniently remind us that the version of Kubernetes that we are deploying is outdated. This is by design. We really want users to know when they are running old code.</p>
<pre class="brush: plain; title: ; notranslate" title="">
..snip
A new kubernetes version is available: 1.5.2
Upgrading is recommended (try kops upgrade cluster)
..snip
</pre>
<p>So now we have an older version of Kubernetes running. We know this by running the following command and looking for <code>Server Version: version.Info</code></p>
<pre class="brush: plain; title: ; notranslate" title="">
kubectl version
</pre>
<p>Now, we can use the following command to see what <code>kops</code> suggests we should do:</p>
<pre class="brush: plain; title: ; notranslate" title="">
kops upgrade cluster $KOPS_NAME
</pre>
<p>We can safely append <code>--yes</code> to the end of our command to apply the upgrade to our configuration. But what is really happening here?</p>
<p>When we run the upgrade command as in</p>
<pre class="brush: plain; title: ; notranslate" title="">
kops upgrade cluster $KOPS_NAME --yes
</pre>
<p>all we are really doing is appending some values to the <strong>cluster spec</strong>. (Remember, this is the <strong>state store</strong> that is stored in S3 in YAML). Which of course can always be accessed and edited using:</p>
<pre class="brush: plain; title: ; notranslate" title="">
kops edit cluster $KOPS_NAME
</pre>
<p>In this case you will notice how the <code>kops upgrade cluster</code> command conveniently changed the following line in the configuration file for us.</p>
<pre class="brush: plain; title: ; notranslate" title="">
  kubernetesVersion: 1.5.2
</pre>
<p>We can now run a <code>kops update cluster</code> command as we always would, to apply the change.</p>
<pre class="brush: plain; title: ; notranslate" title="">
kops update cluster $KOPS_NAME --yes
</pre>
<p>We can now safely roll each of our nodes to finish the upgrade. Let&#8217;s use <code>kops rolling-update cluster</code> to re deploy each of our nodes. This is necessary to finish the upgrade. A kops rolling update will cycle each of the instance in the autoscale group with the new configuration.</p>
<pre class="brush: plain; title: ; notranslate" title="">
kops rolling-update cluster $KOPS_NAME --yes
</pre>
<p>We can now check the version of Kubernetes, and validate that we are in fact using the latest version.</p>
<pre class="brush: plain; title: ; notranslate" title=""> kubectl version </pre>
<p>Note: If a specific version of Kubernetes is desired, you can always use the <code>--channel</code> flag and specify a valid channel. An example channel can be found <a href="https://github.com/kubernetes/kops/blob/master/channels/stable">here</a>.</p>
<h1>Scaling your cluster</h1>
<p>Suppose you would like to scale your cluster to process more work..</p>
<p>In this example we will start off with a very basic cluster, and turn the node count up using kops instance groups.</p>
<pre class="brush: plain; title: ; notranslate" title="">
kops create cluster --zones us-west-2a --node-count 3 $KOPS_NAME --yes
</pre>
<p>After the cluster is deployed we can validate that we are using 3 nodes by running</p>
<pre class="brush: plain; title: ; notranslate" title="">
kubectl get nodes
</pre>
<p>Say we want to scale our nodes from 3 to 30. We can easily do that with kops by editing the <code>nodes</code> instance group using:</p>
<pre class="brush: plain; title: ; notranslate" title="">
kops edit instancegroup nodes
</pre>
<p>We can then bump our node counts up to 30</p>
<pre class="brush: plain; title: ; notranslate" title="">
spec:
  image: kope.io/k8s-1.4-debian-jessie-amd64-hvm-ebs-2016-10-21
  machineType: t2.medium
  maxSize: 30
  minSize: 30
  role: Node
  subnets:
  - us-west-2a
</pre>
<p>We then of course need to update our newly edited configuration</p>
<pre class="brush: plain; title: ; notranslate" title="">
kops update cluster $KOPS_NAME --yes
</pre>
<p><a href="../../wp-content/uploads/2017/03/Screen-Shot-2017-03-01-at-10.36.30-PM.png"><img class="alignright wp-image-197 " src="http://www.nivenly.com/wp-content/uploads/2017/03/Screen-Shot-2017-03-01-at-10.36.30-PM-300x203.png" alt="screen-shot-2017-03-01-at-10-36-30-pm" width="524" height="356" srcset="../../wp-content/uploads/2017/03/Screen-Shot-2017-03-01-at-10.36.30-PM-300x203.png 300w, ../../wp-content/uploads/2017/03/Screen-Shot-2017-03-01-at-10.36.30-PM-768x521.png 768w, ../../wp-content/uploads/2017/03/Screen-Shot-2017-03-01-at-10.36.30-PM-1024x694.png 1024w" sizes="(max-width: 524px) 100vw, 524px" /></a></p>
<p>Kops will update the AWS ASG automatically, and <strong>poof</strong> we have a 30 node cluster.</p>
<p>I do actually try all of this before recommending it to anyone. So yes, I was able to actually deploy a 30 node cluster in AWS with kops.</p>
<p>The cluster was deployed successfully, and the primary component of lag was waiting on Amazon to deploy the instances after detecting a change in the Autoscaling group.</p>
<p>&nbsp;</p>
<p>A quick delete command from kops, and all is well.</p>
<pre class="brush: plain; title: ; notranslate" title=""> kops delete cluster $KOPS_NAME --yes </pre>
<h1>Audit your clusters</h1>
<p>Suppose you need to know what is going on in the cloud.. and audit your infrastructure..</p>
<p>By design <code>kops</code> will never store information about the cloud resources, and will always look them up at runtime. So gaining a glimpse into what you have running currently can be a bit of a concern. There are 2 <code>kops</code> commands that are very useful for auditing your environment, and also auditing a single cluster.</p>
<p>In order to see what clusters we have running in a state store we first use the following command:</p>
<pre class="brush: plain; title: ; notranslate" title="">
kops get clusters
</pre>
<p>Notice how we no longer have to use `$KOPS_NAME`. This is because we already have a cluster deployed, and thus should already have a working `~/.kube/config` file in place. We can infer a lot of information from the file. Now that we have a cluster name (or more!) in mind, we can use the following command:</p>
<pre class="brush: plain; title: ; notranslate" title="">
kops toolbox dump
</pre>
<p>Which will output all the wonderful information we could want about a cluster in a format that is easy to query. It is important to note that the resources defined here are discovered using the same cluster lookup methods `kops` uses for all other cluster commands. This is a raw, and unique output of your cluster at runtime!</p>
<h3>Thanks!</h3>
<p>Thank you for reading my article. As always, I appreciate any feedback from users. So let me know how we could be better. Also feel free to check me out on GitHub for more kops updates.</p>
<p><a class="github-button" href="https://github.com/kris-nova" data-style="mega" data-count-href="/kris-nova/followers" data-count-api="/users/kris-nova#followers" data-count-aria-label="# followers on GitHub">Follow @kris-nova</a></p>
				</p>
	</div>
</div>
</div><!-- #post-## -->
	<nav class="navigation pagination" role="navigation">
		<h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><span class='page-numbers current'>1</span>
<a class='page-numbers' href='page/2/index.html'>2</a>
<a class="next page-numbers" href="page/2/index.html">NEXT</a></div>
	</nav>		</main><!-- #main -->
		</div><!-- #primary -->
				</div>
				</div>
	</div>
</div>
<footer>
  <div class="wrapper_main footer_section_main">
   <div class="container">
    <div class="row">
     <div class="col-lg-3 col-md-3 col-sm-3">
      <div class="footer_logo"> 
	  		   <h1 style="mk_copy"><a href="../../../nivenly.com/index.html"></a></h1> 
       	  </div>
     </div>
     <div class="col-lg-6 col-md-6 col-sm-6">
      <p class="footer_copyright">Copyright 2017 Kris Nova <a href="../../../nivenly.com/index.html"></a></p>
     </div>
     <div class="col-lg-3 col-md-3 col-sm-3">
      <div class="social_icons footer_social">
	  </div>
     </div>
    </div>
   </div>
  </div>
 </footer>
</div>
<script type='text/javascript' src='../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js@ver=3.0.9b'></script>
<script type='text/javascript' src='../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPlain.js@ver=3.0.9b'></script>
<script type='text/javascript' src='../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushBash.js@ver=3.0.9b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://www.nivenly.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://www.nivenly.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeMidnight.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['auto-links'] = false;
	SyntaxHighlighter.defaults['gutter'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<link rel='stylesheet' id='captcha-style-css'  href='../../wp-content/plugins/uber-nocaptcha-recaptcha/assets/css/style.css@ver=4.8.11.css' type='text/css' media='all' />
<script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"https:\/\/www.nivenly.com\/wp-json\/","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}}};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/contact-form-7/includes/js/scripts.js@ver=4.8'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var sta_settings = {"distance":"50","speed":"5000","exceptions":""};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/scroll-to-anchor/js/scroll-to-anchor.min.js@ver=4.8.11'></script>
<script type='text/javascript' src='../../wp-content/themes/micky/assets/js/bootstrap.min.js'></script>
<script type='text/javascript' src='../../wp-content/themes/micky/assets/js/bootstrap-select-min.js'></script>
<script type='text/javascript' src='../../wp-content/themes/micky/assets/js/navigation.js@ver=20151215'></script>
<script type='text/javascript' src='../../wp-content/themes/micky/assets/js/skip-link-focus-fix.js@ver=20151215'></script>
<script type='text/javascript' src='../../wp-content/themes/micky/assets/js/custom.js'></script>
<script type='text/javascript' src='../../wp-includes/js/wp-embed.min.js@ver=4.8.11'></script>
<script type='text/javascript' src='https://www.google.com/recaptcha/api.js?onload=renderUNCRReCaptcha&amp;render=explicit&amp;ver=2.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var UNCR = {"site_key":"6LdjjAcUAAAAAOtl-qenrmS-_KhXjvuODKgVRuyS","key_type":"normal","theme":"dark","type":"image","submit_button":"no"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/uber-nocaptcha-recaptcha/assets/js/recaptcha.js@ver=1.0'></script>
</body>
</html>